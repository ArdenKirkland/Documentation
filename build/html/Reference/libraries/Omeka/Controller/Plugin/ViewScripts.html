

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Omeka_Controller_Plugin_ViewScripts &mdash; Omeka Documentation v2.0 documentation</title>
    <link rel="stylesheet" href="../../../../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../../../',
        VERSION:     '2.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../../../_static/doctools.js"></script>
    
    <link rel="top" title="Omeka Documentation v2.0 documentation" href="../../../../../index.html" />
    <link rel="up" title="Libraries/Omeka/Controller/Plugin" href="index.html" />
    <link rel="next" title="Libraries/Omeka/Db" href="../../Db/index.html" />
    <link rel="prev" title="Omeka_Controller_Plugin_Upgrade" href="Upgrade.html" />
    <link rel="stylesheet" href="../../../../../_static/overrides.css" type="text/css" />
 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../Db/index.html" title="Libraries/Omeka/Db"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="Upgrade.html" title="Omeka_Controller_Plugin_Upgrade"
             accesskey="P">previous</a> |</li>
    
        <li><a href="../../../../../index.html">Omeka Documentation v2.0 documentation</a> &raquo;</li>
    <p style="background-color: white; color:red;">
    This documentation is currently unstable as changes continue to be made to Omeka 2.0.    
     The final release of Omeka 2.0 may have changes.</p>    

          <li><a href="../../../../index.html" >Reference Documentation for Omeka</a> &raquo;</li>
          <li><a href="../../index.html" >Libraries/Omeka</a> &raquo;</li>
          <li><a href="../index.html" >Libraries/Omeka/Controller</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Libraries/Omeka/Controller/Plugin</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="omeka-controller-plugin-viewscripts">
<h1>Omeka_Controller_Plugin_ViewScripts<a class="headerlink" href="#omeka-controller-plugin-viewscripts" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="Omeka_Controller_Plugin_ViewScripts">
<em class="property">class </em><tt class="descname">Omeka_Controller_Plugin_ViewScripts</tt><a class="headerlink" href="#Omeka_Controller_Plugin_ViewScripts" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets up view script search paths on a per-request basis.</p>
<dl class="attr">
<dt id="Omeka_Controller_Plugin_ViewScripts::$_view">
<em class="property">property </em><tt class="descname">_view</tt><a class="headerlink" href="#Omeka_Controller_Plugin_ViewScripts::$_view" title="Permalink to this definition">¶</a></dt>
<dd><p>Registered view object.</p>
</dd></dl>

<dl class="attr">
<dt id="Omeka_Controller_Plugin_ViewScripts::$_dbOptions">
<em class="property">property </em><tt class="descname">_dbOptions</tt><a class="headerlink" href="#Omeka_Controller_Plugin_ViewScripts::$_dbOptions" title="Permalink to this definition">¶</a></dt>
<dd><p>List of options from the database.</p>
</dd></dl>

<dl class="attr">
<dt id="Omeka_Controller_Plugin_ViewScripts::$_baseThemePath">
<em class="property">property </em><tt class="descname">_baseThemePath</tt><a class="headerlink" href="#Omeka_Controller_Plugin_ViewScripts::$_baseThemePath" title="Permalink to this definition">¶</a></dt>
<dd><p>Base path to themes directory.</p>
</dd></dl>

<dl class="attr">
<dt id="Omeka_Controller_Plugin_ViewScripts::$_webBaseThemePath">
<em class="property">property </em><tt class="descname">_webBaseThemePath</tt><a class="headerlink" href="#Omeka_Controller_Plugin_ViewScripts::$_webBaseThemePath" title="Permalink to this definition">¶</a></dt>
<dd><p>Base web-accesible path to themes.</p>
</dd></dl>

<dl class="attr">
<dt id="Omeka_Controller_Plugin_ViewScripts::$_pluginMvc">
<em class="property">property </em><tt class="descname">_pluginMvc</tt><a class="headerlink" href="#Omeka_Controller_Plugin_ViewScripts::$_pluginMvc" title="Permalink to this definition">¶</a></dt>
<dd><p>MVC plugin behaviors class.</p>
</dd></dl>

<dl class="method">
<dt id="Omeka_Controller_Plugin_ViewScripts::__construct">
<tt class="descname">__construct</tt><big>(</big><em>array $options</em>, <em>Omeka_Plugin_Mvc $pluginMvc</em><big>)</big><a class="headerlink" href="#Omeka_Controller_Plugin_ViewScripts::__construct" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>$options</strong> (<em>array</em>) &#8211; List of options.</li>
<li><strong>$pluginMvc</strong> (<a class="reference internal" href="../../Plugin/Mvc.html#Omeka_Plugin_Mvc" title="Omeka_Plugin_Mvc"><em>Omeka_Plugin_Mvc</em></a>) &#8211; Plugin MVC class.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Omeka_Controller_Plugin_ViewScripts::preDispatch">
<tt class="descname">preDispatch</tt><big>(</big><em>Zend_Controller_Request_Abstract $request</em><big>)</big><a class="headerlink" href="#Omeka_Controller_Plugin_ViewScripts::preDispatch" title="Permalink to this definition">¶</a></dt>
<dd><p>Add the appropriate view scripts directories for a given request.
This is pretty much the glue between the plugin broker and the
View object, since it uses data from the plugin broker to determine what
script paths will be available to the view.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>$request</strong> (<em>Zend_Controller_Request_Abstract</em>) &#8211; Request object.</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">void</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Omeka_Controller_Plugin_ViewScripts::_setupPathsForPlugin">
<tt class="descname">_setupPathsForPlugin</tt><big>(</big><em>string $pluginModuleName</em>, <em>string $themeType</em><big>)</big><a class="headerlink" href="#Omeka_Controller_Plugin_ViewScripts::_setupPathsForPlugin" title="Permalink to this definition">¶</a></dt>
<dd><p>Set up the asset paths for a plugin.</p>
<p>If you&#8217;re in a plugin, check in this order:
1. plugin view scripts (only for that plugin)
2. plugin view scripts for other plugins
3. theme view scripts</p>
<p>This means that it needs to add the paths in the reverse order of what needs to be checked first, so theme paths
first and then plugin paths.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>$pluginModuleName</strong> (<em>string</em>) &#8211; The module name for the plugin.</li>
<li><strong>$themeType</strong> (<em>string</em>) &#8211; The type of theme: &#8216;admin&#8217; or &#8216;public&#8217;.</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">void</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Omeka_Controller_Plugin_ViewScripts::_setupPathsForTheme">
<tt class="descname">_setupPathsForTheme</tt><big>(</big><em>string $themeType</em><big>)</big><a class="headerlink" href="#Omeka_Controller_Plugin_ViewScripts::_setupPathsForTheme" title="Permalink to this definition">¶</a></dt>
<dd><p>Set up the asset paths for the theme.</p>
<p>If you&#8217;re in one of the themes, check in this order:
1. theme view scripts 2. all plugin view scripts</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>$themeType</strong> (<em>string</em>) &#8211; The type of theme: &#8216;admin&#8217; or &#8216;public&#8217;.</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">void</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Omeka_Controller_Plugin_ViewScripts::_addPluginPaths">
<tt class="descname">_addPluginPaths</tt><big>(</big><em>string $themeType</em>, <em>string $pluginModuleName</em><big>)</big><a class="headerlink" href="#Omeka_Controller_Plugin_ViewScripts::_addPluginPaths" title="Permalink to this definition">¶</a></dt>
<dd><p>Add asset paths for a plugin.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>$themeType</strong> (<em>string</em>) &#8211; The type of theme: &#8216;admin&#8217; or &#8216;public&#8217;.</li>
<li><strong>$pluginModuleName</strong> (<em>string</em>) &#8211; The module name for the plugin.</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">void</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Omeka_Controller_Plugin_ViewScripts::_addPathToView">
<tt class="descname">_addPathToView</tt><big>(</big><em>string $scriptPath</em><big>)</big><a class="headerlink" href="#Omeka_Controller_Plugin_ViewScripts::_addPathToView" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a new script path for a plugin to the view.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>$scriptPath</strong> (<em>string</em>) &#8211; Path from plugins dir to script dir.</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">void</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Omeka_Controller_Plugin_ViewScripts::_getView">
<tt class="descname">_getView</tt><big>(</big><big>)</big><a class="headerlink" href="#Omeka_Controller_Plugin_ViewScripts::_getView" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the view from the registry.</p>
<p>The initial call to the registry caches the view in this class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Returns:</th><td class="field-body">Zend_View</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Omeka_Controller_Plugin_ViewScripts::_addSharedViewsDir">
<tt class="descname">_addSharedViewsDir</tt><big>(</big><big>)</big><a class="headerlink" href="#Omeka_Controller_Plugin_ViewScripts::_addSharedViewsDir" title="Permalink to this definition">¶</a></dt>
<dd><p>Add the global views from the view scripts directory to the view.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Returns:</th><td class="field-body">void</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Omeka_Controller_Plugin_ViewScripts::_addThemePaths">
<tt class="descname">_addThemePaths</tt><big>(</big><em>string $theme</em><big>)</big><a class="headerlink" href="#Omeka_Controller_Plugin_ViewScripts::_addThemePaths" title="Permalink to this definition">¶</a></dt>
<dd><p>Add script and asset paths for a theme to the view.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>$theme</strong> (<em>string</em>) &#8211; Theme type; either &#8216;public&#8217; or &#8216;admin&#8217;.</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">void</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Omeka_Controller_Plugin_ViewScripts::_addOverridePathForPlugin">
<tt class="descname">_addOverridePathForPlugin</tt><big>(</big><em>string $theme</em>, <em>string $pluginModuleName</em><big>)</big><a class="headerlink" href="#Omeka_Controller_Plugin_ViewScripts::_addOverridePathForPlugin" title="Permalink to this definition">¶</a></dt>
<dd><p>Add theme view path for override views for a given plugin.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>$theme</strong> (<em>string</em>) &#8211; Theme type; &#8216;public&#8217; or &#8216;admin&#8217;</li>
<li><strong>$pluginModuleName</strong> (<em>string</em>) &#8211; </li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Omeka_Controller_Plugin_ViewScripts::getThemeOption">
<tt class="descname">getThemeOption</tt><big>(</big><em>string $type</em><big>)</big><a class="headerlink" href="#Omeka_Controller_Plugin_ViewScripts::getThemeOption" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the option from the database that contains the directory of
the theme to render.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>$type</strong> (<em>string</em>) &#8211; Currently either &#8216;admin&#8217; or &#8216;public&#8217;.</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">string</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../../../../index.html">
              <img class="logo" src="../../../../../_static/logo-horizontal-200px.gif" alt="Logo"/>
            </a></p>
  <h4>Previous topic</h4>
  <p class="topless"><a href="Upgrade.html"
                        title="previous chapter">Omeka_Controller_Plugin_Upgrade</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../../Db/index.html"
                        title="next chapter">Libraries/Omeka/Db</a></p>
  <h3>This Page</h3>
  <p>See something wrong or confusing on this page?
    Please open an issue on <a href="https://github.com/omeka/OmekaDoc/issues.rst" rel="nofollow">Github</a>
    </p>
  <ul class="this-page-menu">
    
    <li><a href="https://github.com/omeka/OmekaDoc/master/sourceReference/libraries/Omeka/Controller/Plugin/ViewScripts.rst"
           rel="nofollow">View Source</a>
    </li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../../../../search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../Db/index.html" title="Libraries/Omeka/Db"
             >next</a> |</li>
        <li class="right" >
          <a href="Upgrade.html" title="Omeka_Controller_Plugin_Upgrade"
             >previous</a> |</li>
    
        <li><a href="../../../../../index.html">Omeka Documentation v2.0 documentation</a> &raquo;</li>
    <p style="background-color: white; color:red;">
    This documentation is currently unstable as changes continue to be made to Omeka 2.0.    
     The final release of Omeka 2.0 may have changes.</p>    

          <li><a href="../../../../index.html" >Reference Documentation for Omeka</a> &raquo;</li>
          <li><a href="../../index.html" >Libraries/Omeka</a> &raquo;</li>
          <li><a href="../index.html" >Libraries/Omeka/Controller</a> &raquo;</li>
          <li><a href="index.html" >Libraries/Omeka/Controller/Plugin</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Roy Rosenzweig Center for History and New Media.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>
  </body>
</html>