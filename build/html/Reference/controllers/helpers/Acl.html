

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Omeka_Controller_Action_Helper_Acl &mdash; Omeka Documentation v2.0 documentation</title>
    <link rel="stylesheet" href="../../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '2.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    
    <link rel="top" title="Omeka Documentation v2.0 documentation" href="../../../index.html" />
    <link rel="up" title="Controllers/helpers" href="index.html" />
    <link rel="next" title="Omeka_Controller_Action_Helper_ContextSwitch" href="ContextSwitch.html" />
    <link rel="prev" title="Controllers/helpers" href="index.html" />
    <link rel="stylesheet" href="../../../_static/overrides.css" type="text/css" />
 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="ContextSwitch.html" title="Omeka_Controller_Action_Helper_ContextSwitch"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Controllers/helpers"
             accesskey="P">previous</a> |</li>
    
        <li><a href="../../../index.html">Omeka Documentation v2.0 documentation</a> &raquo;</li>
    <p style="background-color: white; color:red;">
    This documentation is currently unstable as changes continue to be made to Omeka 2.0.    
     The final release of Omeka 2.0 may have changes.</p>    

          <li><a href="../../index.html" >Reference Documentation for Omeka</a> &raquo;</li>
          <li><a href="../index.html" >Controllers</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Controllers/helpers</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="omeka-controller-action-helper-acl">
<h1>Omeka_Controller_Action_Helper_Acl<a class="headerlink" href="#omeka-controller-action-helper-acl" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="Omeka_Controller_Action_Helper_Acl">
<em class="property">class </em><tt class="descname">Omeka_Controller_Action_Helper_Acl</tt><a class="headerlink" href="#Omeka_Controller_Action_Helper_Acl" title="Permalink to this definition">¶</a></dt>
<dd><p>Package: <a class="reference internal" href="../../packages/Controller/ActionHelper/index.html"><em>Controller\ActionHelper</em></a></p>
<p>Leverages the ACL to automatically check permissions for the current
controller/action combo.</p>
<dl class="attr">
<dt id="Omeka_Controller_Action_Helper_Acl::$_acl">
<em class="property">property </em><tt class="descname">_acl</tt><a class="headerlink" href="#Omeka_Controller_Action_Helper_Acl::$_acl" title="Permalink to this definition">¶</a></dt>
<dd><p>ACL object.</p>
</dd></dl>

<dl class="attr">
<dt id="Omeka_Controller_Action_Helper_Acl::$_currentUser">
<em class="property">property </em><tt class="descname">_currentUser</tt><a class="headerlink" href="#Omeka_Controller_Action_Helper_Acl::$_currentUser" title="Permalink to this definition">¶</a></dt>
<dd><p>User record corresponding to the logged-in user, otherwise null.</p>
</dd></dl>

<dl class="attr">
<dt id="Omeka_Controller_Action_Helper_Acl::$_allowed">
<em class="property">property </em><tt class="descname">_allowed</tt><a class="headerlink" href="#Omeka_Controller_Action_Helper_Acl::$_allowed" title="Permalink to this definition">¶</a></dt>
<dd><p>Temporarily allowed permissions.</p>
</dd></dl>

<dl class="attr">
<dt id="Omeka_Controller_Action_Helper_Acl::$_autoloadResourceObject">
<em class="property">property </em><tt class="descname">_autoloadResourceObject</tt><a class="headerlink" href="#Omeka_Controller_Action_Helper_Acl::$_autoloadResourceObject" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether we should automatically try to set the resource object.</p>
</dd></dl>

<dl class="method">
<dt id="Omeka_Controller_Action_Helper_Acl::__construct">
<tt class="descname">__construct</tt><big>(</big><em>Zend_Acl $acl</em>, <em>$currentUser</em><big>)</big><a class="headerlink" href="#Omeka_Controller_Action_Helper_Acl::__construct" title="Permalink to this definition">¶</a></dt>
<dd><p>Instantiated with the ACL permissions which will be used to verify
permission levels.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>$acl</strong> (<em>Zend_Acl</em>) &#8211; </li>
<li><strong>$currentUser</strong> (<em>unknown</em>) &#8211; </li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Omeka_Controller_Action_Helper_Acl::preDispatch">
<tt class="descname">preDispatch</tt><big>(</big><big>)</big><a class="headerlink" href="#Omeka_Controller_Action_Helper_Acl::preDispatch" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine whether or not access is granted to a specific controller/action.</p>
<p>If the user has been authenticated, display the Access Forbidden error page.Otherwise, give the user an opportunity to login before trying again.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Returns:</th><td class="field-body">void</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Omeka_Controller_Action_Helper_Acl::isAllowed">
<tt class="descname">isAllowed</tt><big>(</big><em>string $privilege</em>, <em>$resource</em><big>)</big><a class="headerlink" href="#Omeka_Controller_Action_Helper_Acl::isAllowed" title="Permalink to this definition">¶</a></dt>
<dd><p>Notifies whether the logged-in user has permission for a given resource/
privilege combination.</p>
<p>If an ACL resource being checked has not been defined, access to thatresource should not be controlled.  This allows plugin writers toimplement controllers without also requiring them to be aware of the ACL.</p>
<p>Conversely, in the event that an ACL resource has been defined, all access permissions for that controller must be properly defined.</p>
<p>The names of resources should correspond to the name of the controllerclass minus &#8216;Controller&#8217;, e.g.Geolocation_IndexController -&gt; &#8216;Geolocation_Index&#8217;CollectionsController -&gt; &#8216;Collections&#8217;</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>$privilege</strong> (<em>string</em>) &#8211; </li>
<li><strong>$resource</strong> (<em>unknown</em>) &#8211; </li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">boolean</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Omeka_Controller_Action_Helper_Acl::getResourceName">
<tt class="descname">getResourceName</tt><big>(</big><big>)</big><a class="headerlink" href="#Omeka_Controller_Action_Helper_Acl::getResourceName" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the name of the ACL resource based on the name of the controller
and, if not the default module, the name of the module.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Returns:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Omeka_Controller_Action_Helper_Acl::setCurrentUser">
<tt class="descname">setCurrentUser</tt><big>(</big><em>User|null $currentUser</em><big>)</big><a class="headerlink" href="#Omeka_Controller_Action_Helper_Acl::setCurrentUser" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>$currentUser</strong> (<em>User|null</em>) &#8211; </li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Omeka_Controller_Action_Helper_Acl::setAllowed">
<tt class="descname">setAllowed</tt><big>(</big><em>string $rule</em>, <em>boolean $isAllowed = 1</em><big>)</big><a class="headerlink" href="#Omeka_Controller_Action_Helper_Acl::setAllowed" title="Permalink to this definition">¶</a></dt>
<dd><p>Temporarily override the ACL&#8217;s permissions for this controller</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>$rule</strong> (<em>string</em>) &#8211; </li>
<li><strong>$isAllowed</strong> (<em>boolean</em>) &#8211; </li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Omeka_Controller_Action_Helper_Acl::setAutoloadResourceObject">
<tt class="descname">setAutoloadResourceObject</tt><big>(</big><em>boolean $autoload</em><big>)</big><a class="headerlink" href="#Omeka_Controller_Action_Helper_Acl::setAutoloadResourceObject" title="Permalink to this definition">¶</a></dt>
<dd><p>Set whether the ACL helper should try to automatically load
a resource object from the request.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>$autoload</strong> (<em>boolean</em>) &#8211; </li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Omeka_Controller_Action_Helper_Acl::_getResourceObjectFromRequest">
<tt class="descname">_getResourceObjectFromRequest</tt><big>(</big><big>)</big><a class="headerlink" href="#Omeka_Controller_Action_Helper_Acl::_getResourceObjectFromRequest" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to get the current resource object for the request.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Returns:</th><td class="field-body">Zend_Acl_Resource_Interface|null</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Omeka_Controller_Action_Helper_Acl::_isLoginRequest">
<tt class="descname">_isLoginRequest</tt><big>(</big><big>)</big><a class="headerlink" href="#Omeka_Controller_Action_Helper_Acl::_isLoginRequest" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../../index.html">
              <img class="logo" src="../../../_static/logo-horizontal-200px.gif" alt="Logo"/>
            </a></p>
  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Controllers/helpers</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="ContextSwitch.html"
                        title="next chapter">Omeka_Controller_Action_Helper_ContextSwitch</a></p>
  <h3>This Page</h3>
  <p>See something wrong or confusing on this page?
    Please open an issue on <a href="https://github.com/omeka/Documentation/issues" rel="nofollow">Github</a>
    </p>
  <ul class="this-page-menu">
    
    <li><a href="https://github.com/omeka/Documentation/master/sourceReference/controllers/helpers/Acl.rst"
           rel="nofollow">View Source</a>
    </li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="ContextSwitch.html" title="Omeka_Controller_Action_Helper_ContextSwitch"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Controllers/helpers"
             >previous</a> |</li>
    
        <li><a href="../../../index.html">Omeka Documentation v2.0 documentation</a> &raquo;</li>
    <p style="background-color: white; color:red;">
    This documentation is currently unstable as changes continue to be made to Omeka 2.0.    
     The final release of Omeka 2.0 may have changes.</p>    

          <li><a href="../../index.html" >Reference Documentation for Omeka</a> &raquo;</li>
          <li><a href="../index.html" >Controllers</a> &raquo;</li>
          <li><a href="index.html" >Controllers/helpers</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Roy Rosenzweig Center for History and New Media.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>
  </body>
</html>